<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="mypage2.css" />
        <title>마이페이지 | 개인정보 수정</title>
    </head>
    <body>
        <header class="header">
            <section class="base-nav-guest">
                <div class="header-service-nav">
                    <div class="container">
                        <div class="service-link wishket">
                            <img
                                src="https://www.wishket.com/static/renewal/img/global/gnb_wishket.svg"
                            />
                            <div class="service-name caption-1">위시켓</div>
                        </div>
                        <div class="divider"></div>
                        <div class="service-link other-services">
                            <img
                                class="menu-inactive"
                                src="https://www.wishket.com/static/renewal/img/global/gnb_yozmit_inactive.svg"
                            />
                            <img
                                class="menu-active"
                                src="https://www.wishket.com/static/renewal/img/global/gnb_yozmit.svg"
                            />
                            <div class="service-name caption-2">요즘IT</div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <a href="">
                        <div class="nav-logo-wrapper">
                            <div class="nav-logo"></div>
                        </div>
                    </a>
                    <div class="left-nav">
                        <a href="https://www.wishket.com/project/create/">
                            <div
                                class="left-nav-menu add-project body-2 text900"
                            >
                                프로젝트 등록
                            </div>
                        </a>
                        <a href="https://www.wishket.com/project/#clear">
                            <div class="left-nav-menu body-2 text900">
                                프로젝트 찾기
                            </div>
                        </a>
                        <a href="https://www.wishket.com/partners/#">
                            <div class="left-nav-menu body-2 text900">
                                파트너스 찾기
                            </div>
                        </a>
                        <div class="dropdown-container">
                            <a
                                href="https://www.wishket.com/customer-support/client/use-guide"
                            >
                                <div class="left-nav-menu pr-8 body-2 text900">
                                    이용방법

                                    <div class="img-container">
                                        <img
                                            src="https://www.wishket.com/static/renewal/img/global/Arrow.png"
                                            srcset="
                                                https://www.wishket.com/static/renewal/img/global/Arrow.png   1x,
                                                https://www.wishket.com/static/renewal/img/global/Arrow@2.png 2x,
                                                https://www.wishket.com/static/renewal/img/global/Arrow@3.png 3x
                                            "
                                        />
                                    </div>
                                </div>
                            </a>
                            <div class="drop-down-list">
                                <div class="left-bar useguide"></div>
                                <div class="menu-list">
                                    <a
                                        href="https://www.wishket.com/customer-support/client/use-guide"
                                    >
                                        <div
                                            class="drop-down-menu body-2 text900"
                                        >
                                            이용방법
                                        </div></a
                                    >
                                    <a
                                        href="https://www.wishket.com/customer-support/partner/grade/"
                                    >
                                        <div
                                            class="drop-down-menu body-2 text900"
                                        >
                                            파트너 등급
                                        </div></a
                                    >
                                    <a
                                        href="https://www.wishket.com/customer-support/price/"
                                    >
                                        <div
                                            class="drop-down-menu body-2 text900"
                                        >
                                            이용요금
                                        </div></a
                                    >
                                    <a
                                        href="https://www.wishket.com/customer-support/client/"
                                    >
                                        <div
                                            class="drop-down-menu body-2 text900"
                                        >
                                            고객센터
                                        </div></a
                                    >
                                </div>
                            </div>
                        </div>
                        <div class="dropdown-container">
                            <a href="https://www.wishket.com/customer-case/">
                                <div class="left-nav-menu pr-8 body-2 text900">
                                    고객 사례
                                    <div>
                                        <img
                                            src="https://www.wishket.com/static/renewal/img/global/Arrow.png"
                                        />
                                    </div>
                                </div>
                            </a>
                            <div class="drop-down-list">
                                <div class="left-bar postscript"></div>
                                <div class="menu-list">
                                    <a href=""></a>
                                    <a href=""></a>
                                    <a href=""></a>
                                </div>
                            </div>
                        </div>
                        <div class="nav-divider"></div>
                        <a href="https://www.wishket.com/premium/">
                            <div class="left-nav-menu body-2 text900">
                                프리미엄
                                <div class="img-container">
                                    <img
                                        src="https://www.wishket.com/static/renewal/img/global/new-sign.png"
                                    />
                                </div>
                            </div>
                        </a>
                        <a href="https://www.wishket.com/store/">
                            <div class="left-nav-menu body-2 text900">
                                스토어
                            </div>
                        </a>
                    </div>
                    <div class="right-nav">
                        <a href="/accounts/notifications/"
                            ><div class="noti-bell-container">
                                <img
                                    class="noti-bell"
                                    src="https://www.wishket.com/static/renewal/img/global/client-noti-bell.png"
                                    srcset="
                                        https://www.wishket.com/static/renewal/img/global/client-noti-bell.png 1x,
                                        /static/renewal/img/global/client-noti-bell@2x.png                     2x,
                                        /static/renewal/img/global/client-noti-bell@3x.png                     3x
                                    "
                                />
                            </div>
                        </a>
                        <div class="profile-img-container">
                            <img
                                alt="ljm21252사진"
                                class="user-img-header"
                                src="https://www.wishket.com/static/img/default_avatar_c.png"
                            />
                        </div>
                    </div>
                </div>
            </section>
        </header>
        <a class="advertisement" id="nav-advertisement"></a>

        <div class="page">
            <div class="page-inner">
                <div class="sidebar">
                    <div class="user-name-tag">
                        <h3 class="user-name-tag-heading">클라이언트</h3>
                        <div class="user-name-tag-body">
                            <div class="user-img-box">
                                <img
                                    alt="프로필"
                                    class="img-circle user-img"
                                    src="	https://www.wishket.com/static/img/default_avatar_c.png
                                    "
                                />
                                <img
                                    class="user-img-edit-icon off"
                                    src="https://www.wishket.com/static/img/default_avatar_c.png"
                                    srcset="
                                        https://www.wishket.com/static/renewal/img/profile/icon_edit_s.png        1x,
                                        https://www.wishket.com/static/renewal/img/profile/icon_edit_s.png@2x.png 2x,
                                        https://www.wishket.com/static/renewal/img/profile/icon_edit_s.png.png    3x
                                    "
                                />
                            </div>
                            <div class="username">ljm21252 -- 받아오기</div>
                            <div class="email">
                                ljm21000@gmail.com-- 받아오기
                            </div>
                        </div>
                    </div>
                    <div class="sidebar-nav">
                        <ul>
                            <li class="active">
                                <a
                                    class="active"
                                    href="/accounts/settings/profile/"
                                    >개인정보 수정</a
                                >
                            </li>
                            <li>
                                <a href="/client/project-history/"
                                    >내 게시글 관리</a
                                >
                            </li>
                            <li>
                                <a href="/accounts/settings/verify_identity/"
                                    >내 댓글 관리</a
                                >
                            </li>
                            <li>
                                <a href="/accounts/settings/bank_account/"
                                    >내 문의</a
                                >
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="content">
                    <div class="content-header action">
                        <h3 class="header-text">
                            사용자 정보
                            <small class="small-text"
                                >사용자 개인정보를 수정할 수 있습니다.</small
                            >
                        </h3>
                    </div>
                    <div class="content-inner">
                        <div class="client-info">
                            <h4>사용자 소개</h4>
                            <textarea
                                placeholder="사용자에 대해 간략하게 소개해주세요! (150자 이내)"
                                maxlength="150"
                            ></textarea>
                            <div class="homepage-section">
                                <label for="homepage">홈페이지</label>
                                <input
                                    type="text"
                                    id="homepage"
                                    placeholder="홈페이지 주소를 입력하세요"
                                />
                            </div>
                            <button class="btn-save">등록 완료</button>
                        </div>

                        <div class="client-details">
                            <h4>사용자 정보</h4>
                            <table>
                                <tr>
                                    <th>사용자 타입</th>
                                    <td>
                                        <select name="role" id="role">
                                            <option value="professor">
                                                고등학생
                                            </option>
                                            <option value="student">
                                                대학생
                                            </option>
                                            <option value="professor">
                                                교수
                                            </option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <th>이름</th>
                                    <td data-editable>
                                        정보를 입력해주세요. -- 받아오기
                                    </td>
                                </tr>
                                <tr>
                                    <th>성별</th>
                                    <td>
                                        <select name="gender" id="gender">
                                            <option value="male">남성</option>
                                            <option value="female">여성</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <th>생년월일</th>
                                    <td>
                                        <select class="box" id="birth-year">
                                            <option disabled selected>
                                                출생 연도
                                            </option>
                                        </select>
                                        <select class="box" id="birth-month">
                                            <option disabled selected>
                                                월
                                            </option>
                                        </select>
                                        <select class="box" id="birth-day">
                                            <option disabled selected>
                                                일
                                            </option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <th>지역 - 시, 도</th>
                                    <td data-editable>정보를 입력해주세요.</td>
                                </tr>
                                <tr>
                                    <th>세부 지역 - 시, 군, 구</th>
                                    <td data-editable>정보를 입력해주세요.</td>
                                </tr>
                                <tr>
                                    <th>주소</th>
                                    <td data-editable>정보를 입력해주세요.</td>
                                </tr>
                                <tr>
                                    <th>이메일</th>
                                    <td data-editable>
                                        정보를 입력해주세요. -- 받아오기
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div class="contact-info">
                            <h4>연락처 정보</h4>
                            <table>
                                <tr>
                                    <th>핸드폰 번호</th>
                                    <td data-editable>
                                        정보를 입력해주세요. -- 받아오기
                                    </td>
                                </tr>
                                <tr>
                                    <th>전화번호</th>
                                    <td data-editable>정보를 입력해주세요.</td>
                                </tr>
                                <tr>
                                    <th>팩스 번호</th>
                                    <td data-editable>정보를 입력해주세요.</td>
                                </tr>
                            </table>
                            <button class="btn-save">등록 완료</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 여기부터 모달 구조 -->
        <div id="profileModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>프로필 사진 변경</h2>
                <form id="uploadForm">
                    <input type="file" id="fileInput" accept="image/*" />
                    <div class="btn-group">
                        <button type="submit" class="btn-upload">
                            사진 업로드
                        </button>
                        <button type="button" id="resetBtn" class="btn-default">
                            기본 이미지로 변경
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const editableElements =
                    document.querySelectorAll("[data-editable]");

                editableElements.forEach((element) => {
                    element.addEventListener("click", function () {
                        const currentText = this.innerText;
                        const input = document.createElement("input");
                        input.type = "text";
                        input.value =
                            currentText.trim() === "정보를 입력해주세요."
                                ? ""
                                : currentText.trim();
                        this.innerHTML = "";
                        this.appendChild(input);
                        input.focus();

                        input.addEventListener("blur", function () {
                            const newText =
                                this.value.trim() === ""
                                    ? "정보를 입력해주세요."
                                    : this.value.trim();
                            this.parentNode.innerText = newText;
                        });

                        input.addEventListener("keydown", function (e) {
                            if (e.key === "Enter") {
                                input.blur();
                            }
                        });
                    });
                });
            });
            document.addEventListener("DOMContentLoaded", function () {
                const editableElements =
                    document.querySelectorAll("[data-editable]");

                editableElements.forEach((element) => {
                    element.addEventListener("click", function () {
                        const currentText = this.innerText;
                        const input = document.createElement("input");
                        input.type = "text";
                        input.value =
                            currentText.trim() === "정보를 입력해주세요."
                                ? ""
                                : currentText.trim();
                        this.innerHTML = "";
                        this.appendChild(input);
                        input.focus();

                        input.addEventListener("blur", function () {
                            const newText =
                                this.value.trim() === ""
                                    ? "정보를 입력해주세요."
                                    : this.value.trim();
                            this.parentNode.innerText = newText;
                        });

                        input.addEventListener("keydown", function (e) {
                            if (e.key === "Enter") {
                                input.blur();
                            }
                        });
                    });
                });

                // 모달 관련 요소들 선택
                var modal = document.getElementById("profileModal");
                var btn = document.querySelector(".user-img-box img");
                var span = document.getElementsByClassName("close")[0];
                var resetBtn = document.getElementById("resetBtn");
                const defaultImage =
                    "https://www.wishket.com/static/img/default_avatar_c.png";

                // 이미지 클릭 시 모달 열기
                btn.onclick = function () {
                    modal.style.display = "block";
                };

                // 모달의 닫기 버튼 클릭 시 모달 닫기
                span.onclick = function () {
                    modal.style.display = "none";
                };

                // 모달 외부 클릭 시 모달 닫기
                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                };

                // 사진 업로드 폼 처리
                document
                    .getElementById("uploadForm")
                    .addEventListener("submit", function (event) {
                        event.preventDefault();
                        var fileInput = document.getElementById("fileInput");
                        var file = fileInput.files[0];

                        if (file) {
                            var reader = new FileReader();
                            reader.onload = function (e) {
                                btn.src = e.target.result; // 이미지를 업로드된 파일로 변경
                                modal.style.display = "none";
                                reader.readAsDataURL(file);
                            };
                        }
                    });

                // 기본 이미지로 변경 버튼 클릭 시
                resetBtn.onclick = function () {
                    btn.src = defaultImage; // 기본 이미지로 변경
                    modal.style.display = "none";
                };
            });
            // '출생 연도' 셀렉트 박스 option 목록 동적 생성
            const birthYearEl = document.querySelector("#birth-year");
            // option 목록 생성 여부 확인
            let isYearOptionExisted = false;
            birthYearEl.addEventListener("focus", function () {
                // year 목록 생성되지 않았을 때 (최초 클릭 시)
                if (!isYearOptionExisted) {
                    isYearOptionExisted = true;
                    for (var i = 1950; i <= 2024; i++) {
                        // option element 생성
                        const YearOption = document.createElement("option");
                        YearOption.setAttribute("value", i);
                        YearOption.innerText = i;
                        // birthYearEl의 자식 요소로 추가
                        this.appendChild(YearOption);
                    }
                }
            });

            // '출생 월' 셀렉트 박스 option 목록 동적 생성
            const birthMonthEl = document.querySelector("#birth-month");
            // option 목록 생성 여부 확인
            let isMonthOptionExisted = false;
            birthMonthEl.addEventListener("focus", function () {
                // month 목록 생성되지 않았을 때 (최초 클릭 시)
                if (!isMonthOptionExisted) {
                    isMonthOptionExisted = true;
                    for (var i = 1; i <= 12; i++) {
                        // option element 생성
                        const MonthOption = document.createElement("option");
                        MonthOption.setAttribute("value", i);
                        MonthOption.innerText = i;
                        // birthMonthEl의 자식 요소로 추가
                        this.appendChild(MonthOption);
                    }
                }
            });

            // '출생 일' 셀렉트 박스 option 목록 동적 생성
            const birthDayEl = document.querySelector("#birth-day");
            // option 목록 생성 여부 확인
            let isDayOptionExisted = false;
            birthDayEl.addEventListener("focus", function () {
                // day 목록 생성되지 않았을 때 (최초 클릭 시)
                if (!isDayOptionExisted) {
                    isDayOptionExisted = true;
                    for (var i = 1; i <= 31; i++) {
                        // option element 생성
                        const DayOption = document.createElement("option");
                        DayOption.setAttribute("value", i);
                        DayOption.innerText = i;
                        // birthDayEl의 자식 요소로 추가
                        this.appendChild(DayOption);
                    }
                }
            });
        </script>
        <script></script>
    </body>
</html>
